===========================================
VERCEL DEPLOYMENT GUIDE
===========================================

METHOD 1: Deploy via Vercel Website (EASIEST)
----------------------------------------------

Step 1: Prepare Your Code
--------------------------
1. Make sure all your code is pushed to GitHub
2. Go to: https://github.com/vipin4332/C_Penal
3. Verify all files are there

Step 2: Connect to Vercel
--------------------------
1. Go to: https://vercel.com
2. Click "Sign Up" or "Log In"
3. Sign up/Login with GitHub (recommended)
4. Click "Add New Project"
5. Click "Import Git Repository"
6. Find and select: vipin4332/C_Penal
7. Click "Import"

Step 3: Configure Project
--------------------------
1. Project Name: C_Penal (or keep default)
2. Framework Preset: Other (or leave default)
3. Root Directory: ./ (root)
4. Build Command: Leave empty (no build needed)
5. Output Directory: Leave empty
6. Install Command: npm install

Step 4: Set Environment Variables
----------------------------------
Click "Environment Variables" and add these:

1. MONGODB_URI
   Value: your_mongodb_connection_string
   Example: mongodb+srv://username:password@cluster.mongodb.net/database

2. DB_NAME
   Value: your_database_name
   Example: my_database

3. COLLECTION_NAME
   Value: users
   (or your collection name)

4. ADMIN_COLLECTION
   Value: admins
   (or your admin collection name)

5. ADMIN_EMAIL
   Value: admin@example.com
   (or your admin email)

6. ADMIN_PASSWORD
   Value: your_secure_password
   (or your admin password)

Step 5: Deploy
--------------
1. Click "Deploy" button
2. Wait 2-3 minutes for deployment
3. Your site will be live at: https://c-penal.vercel.app
   (or similar URL)


METHOD 2: Deploy via Vercel CLI
--------------------------------

Step 1: Install Vercel CLI (if not installed)
----------------------------------------------
Open PowerShell/Command Prompt and run:
npm install -g vercel

Step 2: Login to Vercel
------------------------
Run this command:
vercel login

This will:
- Open your browser
- Ask you to login/authorize
- Return to terminal when done

Step 3: Navigate to Project
----------------------------
cd "d:\Project m\C_Penal"

Step 4: Deploy
--------------
Run this command:
vercel

Follow the prompts:
- Set up and deploy? Yes
- Which scope? (Select your account)
- Link to existing project? No
- Project name? C_Penal (or press Enter)
- Directory? ./ (press Enter)
- Override settings? No

Step 5: Set Environment Variables
----------------------------------
After first deployment, run:
vercel env add MONGODB_URI
(Enter your MongoDB connection string)

vercel env add DB_NAME
(Enter your database name)

vercel env add COLLECTION_NAME
(Enter: users)

vercel env add ADMIN_COLLECTION
(Enter: admins)

vercel env add ADMIN_EMAIL
(Enter your admin email)

vercel env add ADMIN_PASSWORD
(Enter your admin password)

Step 6: Redeploy with Environment Variables
--------------------------------------------
vercel --prod

This deploys to production with all environment variables.


IMPORTANT: Environment Variables
--------------------------------

You MUST set these environment variables for the site to work:

1. MONGODB_URI
   - Your MongoDB Atlas connection string
   - Format: mongodb+srv://username:password@cluster.mongodb.net/database

2. DB_NAME
   - Your MongoDB database name

3. COLLECTION_NAME
   - Collection name for user registrations
   - Default: users

4. ADMIN_COLLECTION
   - Collection name for admin users
   - Default: admins

5. ADMIN_EMAIL
   - Default admin email for login
   - Default: admin@example.com

6. ADMIN_PASSWORD
   - Default admin password
   - Default: admin123
   - CHANGE THIS IN PRODUCTION!


After Deployment:
-----------------

1. Your site will be live at: https://your-project.vercel.app
2. Admin panel: https://your-project.vercel.app/admin/
3. API endpoints: https://your-project.vercel.app/api/admin/*

Test the deployment:
- Go to: https://your-project.vercel.app/admin/
- Login with your ADMIN_EMAIL and ADMIN_PASSWORD
- Should redirect to dashboard


Troubleshooting:
----------------

Issue: "Module not found" errors
Solution: Make sure package.json has all dependencies
Run: npm install (locally first)

Issue: API endpoints return 404
Solution: Check vercel.json routes are correct
Verify environment variables are set

Issue: "Cannot connect to MongoDB"
Solution: 
- Check MONGODB_URI is correct
- Verify IP whitelist in MongoDB Atlas
- Check database name is correct

Issue: Login not working
Solution:
- Verify ADMIN_EMAIL and ADMIN_PASSWORD are set
- Check MongoDB connection
- Check ADMIN_COLLECTION name


Quick Deploy Commands:
----------------------

# First time deployment
vercel

# Deploy to production
vercel --prod

# View deployments
vercel ls

# View logs
vercel logs

# Remove deployment
vercel remove


===========================================
RECOMMENDED: Use Method 1 (Website)
It's easier and has a better interface!
===========================================

